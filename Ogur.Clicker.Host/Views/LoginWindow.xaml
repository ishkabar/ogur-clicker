<!-- Ogur.Clicker.Host/Views/LoginWindow.xaml -->
<Window x:Class="Ogur.Clicker.Host.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:Ogur.Clicker.Host.Converters"
        Title="Ogur Clicker - Login"
        Width="400" Height="450"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E"
        ResizeMode="NoResize">

    <Window.Resources>
        <converters:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter"/>
    </Window.Resources>

    <Grid Margin="40">
        <StackPanel VerticalAlignment="Center" MaxWidth="320">

            <!-- Logo/Title -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,40">
                <TextBlock Text="🎮" FontSize="32" Margin="0,0,10,0"/>
                <TextBlock Text="Ogur Clicker"
                          FontSize="28"
                          FontWeight="Bold"
                          Foreground="White"/>
            </StackPanel>

            <!-- Username -->
            <TextBlock Text="Username"
                      Foreground="White"
                      FontSize="14"
                      Margin="0,0,0,5"/>
            <TextBox Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                    Height="36"
                    FontSize="14"
                    Padding="10,8"
                    Margin="0,0,0,20"
                    Background="#2D2D30"
                    Foreground="White"
                    BorderBrush="#3E3E42"
                    BorderThickness="1"
                    IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBooleanConverter}}"/>

            <!-- Password -->
            <TextBlock Text="Password"
                      Foreground="White"
                      FontSize="14"
                      Margin="0,0,0,5"/>
            <PasswordBox x:Name="PasswordBox"
                        Height="36"
                        FontSize="14"
                        Padding="10,8"
                        Margin="0,0,0,10"
                        Background="#2D2D30"
                        Foreground="White"
                        BorderBrush="#3E3E42"
                        BorderThickness="1"
                        KeyDown="PasswordBox_KeyDown"
                        IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBooleanConverter}}"/>

            <!-- Loading -->
            <StackPanel Orientation="Horizontal"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"
                       Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}">
                <TextBlock Text="⏳" FontSize="14" Margin="0,0,5,0"/>
                <TextBlock Text="Logging in..." Foreground="#AAAAAA" FontSize="12"/>
            </StackPanel>

            <!-- Error Message -->
            <TextBlock Text="{Binding ErrorMessage}"
                      Foreground="#FF4444"
                      FontSize="12"
                      TextWrapping="Wrap"
                      HorizontalAlignment="Center"
                      Margin="0,0,0,10"
                      Visibility="{Binding ErrorMessage, Converter={StaticResource NullToVisibilityConverter}}"/>

            <!-- Remember Me -->
            <CheckBox Content="Remember me"
                     IsChecked="{Binding RememberMe}"
                     Foreground="White"
                     FontSize="13"
                     Margin="0,0,0,20"
                     IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBooleanConverter}}"/>

            <!-- Login Button -->
            <Button Content="Login"
                   Command="{Binding LoginCommand}"
                   Height="40"
                   FontSize="16"
                   Background="#007ACC"
                   Foreground="White"
                   BorderThickness="0"
                   Cursor="Hand">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                           CornerRadius="4">
                                        <ContentPresenter HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#005A9E"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#555555"/>
                                <Setter Property="Foreground" Value="#888888"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

        </StackPanel>
    </Grid>
</Window>