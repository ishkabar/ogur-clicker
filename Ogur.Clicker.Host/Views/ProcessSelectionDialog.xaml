<!-- Ogur.Clicker.Host/Views/ProcessSelectionDialog.xaml -->
<Window x:Class="Ogur.Clicker.Host.Views.ProcessSelectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Target Process"
        Width="600" Height="400"
        WindowStartupLocation="CenterOwner"
        Background="#1E1E1E">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,10">
            <TextBlock Text="Select target process for focus detection:"
                      Foreground="White"
                      FontSize="14"
                      Margin="0,0,0,10"/>
            <Button Content="🔄 Refresh"
                   Click="Refresh_Click"
                   Width="100"
                   HorizontalAlignment="Left"/>
        </StackPanel>

        <!-- Process List -->
        <ListView x:Name="ProcessesListView"
                 Grid.Row="1"
                 Background="#2D2D30"
                 Foreground="White"
                 BorderBrush="#3F3F46"
                 MouseDoubleClick="Ok_Click">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="PID"
                                   DisplayMemberBinding="{Binding Id}"
                                   Width="80"/>
                    <GridViewColumn Header="Process Name"
                                   DisplayMemberBinding="{Binding ProcessName}"
                                   Width="200"/>
                    <GridViewColumn Header="Window Title"
                                   DisplayMemberBinding="{Binding MainWindowTitle}"
                                   Width="280"/>
                </GridView>
            </ListView.View>
        </ListView>

        <!-- Buttons -->
        <StackPanel Grid.Row="2"
                   Orientation="Horizontal"
                   HorizontalAlignment="Right"
                   Margin="0,10,0,0">
            <Button Content="OK"
                   Click="Ok_Click"
                   Width="80"
                   Margin="0,0,10,0"/>
            <Button Content="Cancel"
                   Click="Cancel_Click"
                   Width="80"/>
        </StackPanel>
    </Grid>
</Window>